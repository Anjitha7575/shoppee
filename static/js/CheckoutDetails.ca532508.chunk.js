"use strict";(self.webpackChunkshopee_app=self.webpackChunkshopee_app||[]).push([[659],{1411:(n,e,t)=>{t.d(e,{A:()=>f});var i,s,a,d=t(5043),l=t(1338),r=t(7528),o=t(4512);const c=o.Ay.div(i||(i=(0,r.A)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    padding: 20px;\n    border-radius: 20px;\n    border: 1px solid #dcdcdc;\n"]))),x=o.Ay.h1(s||(s=(0,r.A)(["\n   margin: 20px 0;\n"]))),p=o.Ay.div(a||(a=(0,r.A)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 300px;\n    font-size: 15px;\n    margin: 10px 0;\n    .green{\n        color: #49b149;\n    }\n    &.final{\n        border-top: 1px solid #dcdcdc;\n        padding-top: 20px;\n    }\n"])));var h=t(1906),m=t(3003),u=t(579);function g(n){const{billDetails:e={},paymentStage:t=!1,paymentFunc:i}=n,{totalPriceWithoutDiscount:s,totalPrice:a,totalDiscount:d}=e,r=s-a;let o="Continue",m=n.goToNextStage;return t&&(o="Make Payment",m=i),(0,u.jsxs)(c,{children:[(0,u.jsx)(x,{children:"Price Details"}),(0,u.jsxs)("div",{children:[(0,u.jsxs)(p,{children:[(0,u.jsx)("div",{children:"Total MRP"}),(0,u.jsxs)("div",{children:[" ",(0,l.nO)(s),"  "]})]}),(0,u.jsxs)(p,{children:[(0,u.jsx)("div",{children:"Discount on MRP:"}),(0,u.jsxs)("div",{className:"green",children:[" -",(0,l.nO)(r),"  "]})]}),(0,u.jsxs)(p,{children:[(0,u.jsx)("div",{children:"Discount Got "}),(0,u.jsxs)("div",{children:[" ",d,"%"]})]}),(0,u.jsxs)(p,{className:"final",children:[(0,u.jsx)("div",{children:"Total Amount"}),(0,u.jsxs)("div",{children:[" ",(0,l.nO)(a)," "]})]})]}),(0,u.jsx)(h.A,{onClick:()=>m(),sx:{width:"100%"},size:"large",variant:"contained",children:o})]})}const f=(0,m.Ng)(null,(n=>({goToNextStage:()=>n({type:"INCREMENT_USR_STAGE"})})))(d.memo(g))},6658:(n,e,t)=>{t.r(e),t.d(e,{default:()=>pn});var i=t(5043),s=t(3003),a=t(1412),d=t(1906),l=t(579);const r=n=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Js,{}),(0,l.jsx)(d.A,{"data-testid":"back-to-listings-from-empty-cart",sx:{display:"flex",margin:"auto"},variant:"outlined",onClick:n.goToNextStage,children:"Add Items To Cart"})]}),o=(0,s.Ng)(null,(n=>({goToNextStage:()=>n({type:"DECREMENT_USR_STAGE"})})))(i.memo(r));var c,x,p,h,m,u,g=t(1338),f=t(7642),j=t(7528),A=t(4512);const y=A.Ay.div(c||(c=(0,j.A)(["\n    \n    width: 100%;\n    position: relative;\n    background: #dcdcdc3b;\n    border-radius: 20px;\n    padding: 0 20px;\n    max-width: 500px;\n    @media only screen and (max-width: 1024px){ \n        max-width: 300px;\n    }\n"]))),v=A.Ay.div(x||(x=(0,j.A)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin: 20px 0;\n    .MuiStack-root{\n        align-items: center;\n        .MuiButton-root{\n            min-width: unset;\n        padding: 5px;\n        font-size: 13px;\n        }\n    }\n"]))),w=A.Ay.div(p||(p=(0,j.A)(["\n    border-radius: 20px;\n    width: 100px;\n    height: 100px;\n    img{\n        max-width: 100%;\n        max-height: 100%;\n        height: 100px;\n        border-radius: 20px;\n    }\n"]))),b=A.Ay.h3(h||(h=(0,j.A)(["\n    font-size: 13px;\n    font-weight: 700;\n    color: #282c3f;\n    margin-bottom: 6px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    text-align: left;\n"]))),N=A.Ay.h4(m||(m=(0,j.A)(["\n    color: #535766;\n    font-size: 12px;\n    margin-bottom: 0;\n    margin-top: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-weight: 400;\n    display: block;\n    text-align: left;\n"]))),C=A.Ay.h3(u||(u=(0,j.A)(["\n    font-size: 13px;\n    font-weight: 700;\n    color: #282c3f;\n    margin: 10px 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    text-align: left;\n    .actualprice{\n        text-decoration: line-through;\n        font-size: 12px;\n        color: #778899cf;\n        display: inline-block;\n        margin: 0 5px;\n    }\n    .discount{\n        color: darkorange;\n        font-size: 10px;\n    }\n"]))),S=(0,s.Ng)(null,(n=>({minusItem:e=>n({type:"MINUS_ITEM_FRM_CART",payload:e}),addItem:e=>n({type:"ADD_ITEM_TO_CART",payload:e}),deleteEntireItem:e=>n({type:"DELETE_ITEM_FRM_CART",payload:e})})))((n=>{const{cartitems:e}=n,{count:t=0,details:i={}}=e,s=(0,g.Zs)(i.price,i.discountPercentage);return(0,l.jsx)(y,{children:t>0&&i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(v,{children:[(0,l.jsx)(w,{children:(0,l.jsx)("img",{src:i.thumbnail||"",alt:i.title})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(b,{children:i.brand}),(0,l.jsx)(N,{children:i.title}),(0,l.jsxs)(C,{children:[s," ",(0,l.jsx)("span",{className:"actualprice",children:(0,g.BJ)(i.price)}),(0,l.jsxs)("span",{className:"discount",children:["(",i.discountPercentage,"% OFF)"]})]})]})]}),(0,l.jsxs)(v,{children:[(0,l.jsxs)(f.A,{direction:"row",spacing:2,children:[(0,l.jsx)(d.A,{variant:"outlined",color:"primary",onClick:()=>n.minusItem(i),children:(0,l.jsx)("i",{className:"fa-solid fa-minus"})}),(0,l.jsx)("span",{children:t}),(0,l.jsx)(d.A,{variant:"outlined",color:"primary",onClick:()=>n.addItem(i),children:(0,l.jsx)("i",{className:"fa-solid fa-plus"})})]}),(0,l.jsx)(d.A,{variant:"contained",color:"inherit",onClick:()=>n.deleteEntireItem(i),children:"Delete"})]})]})})}));var k,D,E;const T=A.Ay.div(k||(k=(0,j.A)(["\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    gap: 50px;\n    @media only screen and (max-width: 1024px){\n        flex-wrap: wrap;\n        margin-top: 50px;\n    }\n"]))),_=A.Ay.div(D||(D=(0,j.A)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 50px;\n"]))),M=A.Ay.div(E||(E=(0,j.A)(["\n    height: 100vh;\n    border-left: 1px dashed #dcdcdc;\n    @media only screen and (max-width: 1024px){\n        display: none;\n    }\n"])));var I=t(1411),F=t(6607),P=t(8093),R=t(675),z=t(1485);const L=(0,t(1533).A)((()=>({custom_dialog:{"& .MuiPaper-root":{width:"700px",maxWidth:"700px","@media only screen and (max-width: 768px)":{width:"auto",maxWidth:"unset",minWidth:"400px"}}}}))),O=n=>{const{onClose:e,open:t}=n,i=L();return(0,l.jsx)(z.A,{onClose:()=>{e()},open:t,className:i.custom_dialog,children:n.children})};var U,B,G,V,W,J,Y;const H=A.Ay.div(U||(U=(0,j.A)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 20px;\n    border-radius: 20px;\n    margin: auto;\n    position: relative;\n    width: 560px;\n    .custom-backbtn{\n        position: absolute;\n        top: 10px;\n        left: 10px;\n    }\n    .MuiFormControlLabel-label{\n        font-size: 13px;\n    }\n    @media only screen and (max-width: 768px){\n        width: auto;\n    }\n    .address-selection {\n        & .MuiFormControlLabel-root{\n            margin: 0;\n            position: relative;\n            .MuiRadio-root{\n                position: absolute;\n            }\n    }\n}\n    \n"]))),Z=A.Ay.div(B||(B=(0,j.A)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    padding: 10px;\n    margin: 10px 0;\n    border: 1px solid #dcdcdc;\n    width: 500px;\n    font-size: 13px;\n    @media only screen and (max-width: 1024px){\n        width: 300px;\n    }\n"]))),q=A.Ay.div(G||(G=(0,j.A)(["\n    text-align: left;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n    width: 100%;\n"]))),K=A.Ay.div(V||(V=(0,j.A)(["\n    padding: 5px 0 0 0;\n    font-size: 12px;\n    font-weight: 700;\n    color: #282c3f;\n"]))),Q=A.Ay.div(W||(W=(0,j.A)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    margin: 10px 0px;\n    .err{\n        text-align: left;\n        display: inline-block;\n        color: #f57575;\n        font-size: 12px;\n        margin: 5px 0;\n    }\n\n"]))),X=A.Ay.div(J||(J=(0,j.A)(["\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    flex-direction: column;\n    text-align: left;\n    margin: auto;\n    margin-left: 0;\n    font-size: 13px;\n    width: 80%;\n    .r1{\n        display: flex;\n        gap: 10px;\n    }\n    .r2{\n        overflow: hidden;\n        width: 80%;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n    .t1{\n        font-weight: bold;\n        max-width: 100px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n    }\n"]))),$=A.Ay.div(Y||(Y=(0,j.A)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #ebecf680;\n    padding: 20px;\n    border-radius: 20px;\n    border: 1px dashed #848ee8;\n    margin: 0 auto 10px auto;\n    width: 500px;\n    @media only screen and (max-width: 768px){\n        width: auto;\n    }\n"]))),nn=n=>{const{item:e}=n;return(0,l.jsxs)(Z,{children:[(0,l.jsx)(q,{children:e.name}),(0,l.jsx)(q,{children:e.streetAddress}),(0,l.jsx)(q,{children:e.locality}),(0,l.jsx)(q,{children:e.pincode}),(0,l.jsx)(q,{children:e.mobile}),(0,l.jsx)(q,{children:e.addressType})]})};var en=t(5037),tn=t(8319);const sn=n=>{const e=n=>{const{input:{checked:e,value:t,name:i,label:s,onChange:a,...d}}=n;return(0,l.jsx)(F.A,{name:i,"aria-label":s,inputProps:d,onChange:a,checked:e,value:t})};return(0,l.jsx)(en.lV,{onSubmit:async e=>{let t=Math.floor(4e8*Math.random());e.id=t,n.addNewAddressApiFunc(e),n.handleClose()},initialValues:{addressType:"HOME"},render:n=>{let{handleSubmit:t,form:s,submitting:a,pristine:r,values:o}=n;return(0,l.jsxs)("form",{onSubmit:t,"data-testid":"new-address-form",children:[Object.values(g.nm).map(((n,t)=>(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(K,{children:n.title}),"radio"===n.fields_type?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(P.A,{row:!0,"aria-label":"Save Address As",name:n.groupName,children:(0,l.jsx)(l.Fragment,{children:n.fields.map(((n,t)=>(0,l.jsx)(R.A,{control:(0,l.jsx)(en.D0,{name:n.name,component:e,type:"radio",value:n.value,label:n.labeltxt}),label:n.labeltxt},"field1_".concat(t))))})})}):(0,l.jsx)(l.Fragment,{children:n.fields.map(((n,e)=>{return(0,l.jsx)(en.D0,{name:n.name,validate:n.validation,children:(t=n.labeltxt,i=n.inputType,n=>{let{input:e,meta:s}=n;return(0,l.jsxs)(Q,{children:[(0,l.jsx)(tn.A,{"aria-label":t,sx:{width:"300px"},inputProps:{style:{padding:"10px",fontSize:"13px"}},...e,type:i,placeholder:t}),s.error&&s.touched&&(0,l.jsx)("span",{className:"err",children:s.error})]})})},"field_".concat(e));var t,i}))})]},"section_".concat(t)))),(0,l.jsx)(d.A,{type:"submit",sx:{width:"300px"},variant:"contained",disabled:a,children:"Submit"})]})}})};const an=function(n){let{obj:e,children:t}=n;return(0,l.jsxs)($,{children:[(0,l.jsxs)(X,{children:[(0,l.jsxs)("div",{className:"r1",children:[(0,l.jsx)("div",{className:"s1",children:"Deliver to:"}),(0,l.jsx)("div",{className:"t1",children:e.name||""}),(0,l.jsx)("div",{className:"t1",children:e.pincode})]}),(0,l.jsx)("div",{className:"r2",children:e.streetAddress||""})]}),t]})},dn=(n,e)=>({type:"PUT_NEW_ADDRESS_API",payload:{status:n,data:e}});function ln(n){const{userProfileDetails:e,addNewAddressStore:t,deliveryAddress:s}=n,{data:a={}}=e,r=null===a||void 0===a?void 0:a.uid,{addrList:o={}}=t;let c=[];Array.isArray(o)?c=o:o&&(c=Object.values(o||{})||[]);const x=c.length,[p,h]=i.useState(!1),[m,u]=i.useState(!1),g=()=>{u(!1),h(!0)},f=()=>{h(!1)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(l.Fragment,{children:c.length>0?(0,l.jsx)(an,{obj:s||{},children:(0,l.jsx)(d.A,{variant:"outlined",size:"small",onClick:g,children:"Change Address"})}):(0,l.jsxs)(d.A,{"data-testid":"add-new-address0",sx:{width:"300px",marginBottom:"10px"},size:"large",variant:"outlined",onClick:()=>(g(),void u(!0)),children:[(0,l.jsx)("i",{className:"fa-solid fa-plus"}),"\xa0 Add New Address"]})}),(0,l.jsx)(O,{open:p,onClose:f,children:(0,l.jsxs)(H,{"data-testid":"address-details-popup",children:[m?(0,l.jsx)(l.Fragment,{children:c.length>0&&(0,l.jsx)(d.A,{className:"custom-backbtn",variant:"outlined",onClick:()=>u(!1),children:(0,l.jsx)("i",{className:"fa-solid fa-arrow-left-long"})})}):(0,l.jsxs)(d.A,{"data-testid":"add-new-address1",sx:{width:"300px"},size:"large",variant:"outlined",onClick:()=>u(!0),children:[(0,l.jsx)("i",{className:"fa-solid fa-plus"}),"\xa0 Add New Address"]}),m?(0,l.jsx)(sn,{addNewAddressApiFunc:e=>{n.updateAddressList(r,e,x)},handleClose:f}):(0,l.jsx)(l.Fragment,{children:c.length>0&&(0,l.jsx)(P.A,{className:"address-selection","aria-labelledby":"demo-radio-buttons-group-label",defaultValue:c[0].id||"",name:"radio-buttons-group",children:(c||[]).map(((e,t)=>(0,l.jsx)(R.A,{onClick:()=>(e=>{n.setDeliveryAddress(e),h(!1)})(e),labelPlacement:"start",value:e.id||t,control:(0,l.jsx)(F.A,{}),label:(0,l.jsx)(nn,{item:e})},e.id)))})})]})})]})}const rn=(0,s.Ng)((n=>({userProfileDetails:n.userProfileModel.userProfileDetails,addNewAddressStore:n.checkoutModel.addNewAddressStore,deliveryAddress:n.checkoutModel.deliveryAddress})),(n=>({updateAddressList:(e,t,i)=>n(function(n,e,t){return i=>{i(dn("loading"));let s={method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(e)};fetch("https://anjiee-default-rtdb.firebaseio.com/users/".concat(n,"/address/").concat(t,"/.json?"),s).then((n=>n.json())).then((n=>{i(dn("success",n)),i({type:"UPDATE_USER_ADDRESS_LIST",payload:[e]}),i({type:"GET_DELIVERY_ADDRESS",payload:e})})).catch((n=>{i(dn("error",n))}))}}(e,t,i)),setDeliveryAddress:e=>n({type:"GET_DELIVERY_ADDRESS",payload:e})})))(i.memo(ln)),on=n=>{const{productsCartItems:e}=n,{cartItemsMapBasedOnId:t={},billDetails:i}=e;let s=Object.entries(t||{});return(0,l.jsxs)(T,{"data-testid":"cart-check-view",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(rn,{}),(0,l.jsx)(_,{children:s.map(((n,e)=>{let[t,i]=n;return(0,l.jsx)(S,{cartitems:i,entries:s},t)}))})]}),(0,l.jsx)(M,{}),(0,l.jsx)(I.A,{billDetails:i})]})},cn=(0,s.Ng)((n=>({productsCartItems:n.billingModel.productsCartItems})),{})(i.memo(on)),xn=n=>{const{productsCartItems:e}=n,{cartItems:t=[]}=e,i=t.length||0;return(0,l.jsx)(l.Fragment,{children:i>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.k8,{txt:"Back",func:()=>{n.goToListingpage()}}),(0,l.jsx)(cn,{})]}):(0,l.jsx)(o,{})})},pn=(0,s.Ng)((n=>({productsCartItems:n.billingModel.productsCartItems})),(n=>({goToListingpage:()=>n({type:"RESET_STEP"})})))(i.memo(xn))}}]);
//# sourceMappingURL=CheckoutDetails.ca532508.chunk.js.map