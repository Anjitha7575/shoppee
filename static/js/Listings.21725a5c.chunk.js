"use strict";(self.webpackChunkshopee_app=self.webpackChunkshopee_app||[]).push([[996],{9971:(n,e,t)=>{t.r(e),t.d(e,{default:()=>J});var a=t(5043),i=t(3003);const r=(n,e)=>({type:"FETCH_PRODUCT_LIST",payload:{status:n,data:e}});var o,s,d,l,c,p,x,h,u,g,m,f,y=t(1338),A=t(1906),w=t(7642),j=t(7528),b=t(4512);const v=b.Ay.div(o||(o=(0,j.A)(["\n    width: 210px;\n    position: relative;\n    background: #f9f9f9;\n    border-radius: 20px;\n    padding: 20px;\n    @media only screen and (max-width: 500px){\n        width: calc(50% - 45px);\n    }\n    box-shadow: 0px 20px 40px rgba(52,53,99,0.2), 0px 1px 3px rgba(0,0,0,0.05);\n"]))),I=b.Ay.div(s||(s=(0,j.A)(["\n    border-radius: 20px;\n    width: 210px;\n    height: 200px;\n    img{\n        max-width: 100%;\n        max-height: 100%;\n        height: 200px;\n        border-radius: 20px;\n    }\n    @media only screen and (max-width: 500px){\n        width: fit-content;\n        height: 100px;\n        img{\n            height: 100px; \n        }\n    }\n"]))),C=b.Ay.h3(d||(d=(0,j.A)(["\n    font-size: 15px;\n    font-weight: 700;\n    color: #282c3f;\n    margin-bottom: 6px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    text-align: left;\n"]))),F=b.Ay.h4(l||(l=(0,j.A)(["\n    color: #535766;\n    font-size: 14px;\n    margin-bottom: 0;\n    margin-top: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-weight: 400;\n    display: block;\n    text-align: left;\n"]))),T=b.Ay.h3(c||(c=(0,j.A)(["\n    font-size: 15px;\n    font-weight: 700;\n    color: #282c3f;\n    margin: 10px 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    text-align: left;\n    @media only screen and (max-width: 500px){\n        word-break: break-word;\n        white-space: unset;\n    }\n    .actualprice{\n        text-decoration: line-through;\n        font-size: 12px;\n        color: #778899cf;\n        display: inline-block;\n        margin: 0 5px;\n    }\n    .discount{\n        color: darkorange;\n        font-size: 10px;\n    }\n"]))),k=b.Ay.div(p||(p=(0,j.A)(["\n    z-index: 1;\n    position: absolute;\n    right: 10px;\n    top: 200px;\n    font-size: 12px;\n    font-weight: 700;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 2px;\n    padding: 5px;\n    background-color: #FFFFFF;\n    @media only screen and (max-width: 500px){\n        top: 100px;\n    }\n    span{\n        margin: 0 5px;\n        ","\n    }\n"])),(n=>{switch(n.ratetype){case"green":return(0,b.AH)(x||(x=(0,j.A)(["\n                    color: green;\n        "])));case"yellow":return(0,b.AH)(h||(h=(0,j.A)(["\n                    color: yellow;\n        "])));case"orange":return(0,b.AH)(u||(u=(0,j.A)(["\n                    color: orange;\n        "])));case"red":return(0,b.AH)(g||(g=(0,j.A)(["\n                    color: red;\n        "])));default:return(0,b.AH)(m||(m=(0,j.A)(["\n                color: grey;\n        "])))}}));b.Ay.div(f||(f=(0,j.A)(["\n    background: #5263ff;\n    margin: 5px 0;\n    font-size: 12px;\n    border-radius: 20px;\n    padding: 5px;\n    color: #FFFFFF;\n"])));var _=t(579);const S=(0,i.Ng)(null,(n=>({minusItem:e=>n({type:"MINUS_ITEM_FRM_CART",payload:e}),addItem:e=>n({type:"ADD_ITEM_TO_CART",payload:e}),deleteEntireItem:e=>n({type:"DELETE_ITEM_FRM_CART",payload:e})})))((n=>{const{product:e={},onAddItemToCart:t,productsCartItems:a={}}=n,i=(0,y.Zs)(e.price,e.discountPercentage),{cartItemsMapBasedOnId:r={}}=a,o=!!r&&r[e.id];let s=0;return o&&(s=r?r[e.id].count:0),(0,_.jsxs)(v,{"data-testid":"single-product",children:[e&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I,{children:(0,_.jsx)("img",{src:e.thumbnail||"",alt:e.title})}),(0,_.jsxs)("div",{children:[(0,_.jsx)(C,{"aria-label":e.brand,children:e.brand}),(0,_.jsx)(F,{"aria-label":e.title,children:e.title}),(0,_.jsxs)(T,{"aria-label":i,children:[i," ",(0,_.jsx)("span",{className:"actualprice",children:(0,y.BJ)(e.price)}),(0,_.jsxs)("span",{className:"discount",children:["(",e.discountPercentage,"% OFF)"]})]}),(0,_.jsxs)(k,{"aria-label":e.rating,ratetype:(0,y.gO)(e.rating),children:[e.rating," ",(0,_.jsx)("span",{children:(0,_.jsx)("i",{className:"fa-solid fa-star"})})]})]})]}),o?(0,_.jsxs)(w.A,{direction:"row",spacing:2,sx:{width:"fit-content",margin:"auto",alignItems:"center"},children:[(0,_.jsx)(A.A,{"data-testid":"minus-item",sx:{minWidth:"auto"},"aria-label":"remove one item",variant:"outlined",size:"large",color:"primary",onClick:()=>n.minusItem(e),children:(0,_.jsx)("i",{className:"fa-solid fa-minus"})}),(0,_.jsx)("span",{children:s}),(0,_.jsx)(A.A,{"data-testid":"plus-item",sx:{minWidth:"auto"},"aria-label":"add one item",variant:"outlined",size:"large",color:"primary",onClick:()=>n.addItem(e),children:(0,_.jsx)("i",{className:"fa-solid fa-plus"})})]}):(0,_.jsx)("div",{style:{display:"flex"},children:(0,_.jsx)(A.A,{"data-testid":"add-to-item","aria-label":"add one item",sx:{margin:"auto"},onClick:t,variant:"outlined",children:"Add To Cart"})})]})}));var E=t(8319),M=t(3183);function N(n){const{filterVal:e,setFilterVal:t,topSearchKeyWords:a,filterLabel:i="Search",doSearchBasedOnVal:r}=n,o=n=>{t(n.target.value)};return(0,_.jsx)(M.A,{value:e,onChange:(n,e)=>{t(e),r(e)},selectOnFocus:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-demo",options:a,getOptionLabel:n=>"string"===typeof n?n:n.inputValue?n.inputValue:n,renderOption:(n,e)=>(0,_.jsx)("li",{...n,children:e}),sx:{width:300,height:50,"& .MuiOutlinedInput-root":{height:"50px",padding:"5px 10px !important",margin:"0",fontSize:"13px"},"& .MuiOutlinedInput-root .MuiAutocomplete-endAdornment":{right:85}},freeSolo:!0,renderInput:n=>(0,_.jsx)(E.A,{onChange:o,...n,placeholder:i})})}const P=n=>(0,_.jsx)(N,{topSearchKeyWords:["Iphone","Mobiles","Laptop","Tops"],filterLabel:"Search for products",...n}),O=a.memo(P);var z,R,V,D,H=t(9135),L=t(7659),B=t(1412);const U=b.Ay.div(z||(z=(0,j.A)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n"]))),W=b.Ay.div(R||(R=(0,j.A)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: 50px;\n    margin-bottom: 40px;\n    @media only screen and (max-width: 768px){\n        margin-top: 50px;\n    }\n    @media only screen and (max-width: 500px){\n        width: calc(100% - 20px);\n        gap: 10px;\n    }\n"]))),K=b.Ay.div(V||(V=(0,j.A)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: 50px;\n    position: fixed;\n    top: 0;\n    z-index: 100;\n    height: 60px;\n    width: calc(100% - ","px);\n    @media only screen and (max-width: 768px){\n        width: 100%;\n        top: 78px;\n        background: #FFF;\n        justify-content: center;\n    }\n    .cartbadge{\n        position: fixed;\n        top: 10px;\n        right: 200px;\n    }\n"])),350),q=b.Ay.div(D||(D=(0,j.A)(["\n    position: relative;\n    .searchP{\n        position: absolute;\n        top: 1px;\n        right: 1px;\n        height: calc(100% - 2px);\n        background: #f5f6fa;\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n    }\n"]))),G=n=>{const{products:e,productsCartItems:t}=n,{cartItems:i=[]}=t,[r,o]=(0,a.useState)(1),[s,d]=(0,a.useState)(""),{status:l,data:c={products:[]}}=e,p=c.total||0,x=Math.ceil(p/30);(0,a.useEffect)((()=>{n.clearPrevPayments()}),[]),(0,a.useEffect)((()=>{n.getProducts(r,"")}),[r]);return(0,_.jsxs)(U,{"data-testid":"listing-page",children:[(0,_.jsxs)(K,{children:[(0,_.jsxs)(q,{children:[(0,_.jsx)(O,{filterVal:s,setFilterVal:d,doSearchBasedOnVal:e=>{n.getProducts(1,e)}}),(0,_.jsx)(A.A,{className:"searchP",onClick:(s||"").length>0?()=>{n.getProducts(1,s)}:()=>{},children:"Search"})]}),(0,_.jsx)(L.A,{"data-testid":"show-carts-page",className:"cartbadge",onClick:()=>{n.goToNextStage()},badgeContent:i.length,color:"secondary",children:(0,_.jsx)(B.Uo,{txt:"Cart",icon:"fa-solid fa-cart-shopping"})})]}),"loading"===l?(0,_.jsx)(W,{children:(0,_.jsx)("i",{className:"fa-solid fa-spinner"})}):"error"===l?(0,_.jsx)(W,{"data-testid":"products-error",children:"Something went wrong!"}):(0,_.jsx)(_.Fragment,{children:(null===c||void 0===c?void 0:c.products.length)>0?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(W,{"data-testid":"products-list",children:((null===c||void 0===c?void 0:c.products)||[]).map(((e,a)=>(0,_.jsx)(S,{product:e,productsCartItems:t,onAddItemToCart:()=>(e=>{n.addItemsToCartFunc(e)})(e)},e.id||a)))}),(0,_.jsx)(w.A,{spacing:2,children:(0,_.jsx)(H.A,{page:s?1:r,onChange:(n,e)=>o(e),count:x,color:"primary"})})]}):(0,_.jsx)("div",{children:"No Data Found!"})})]})},J=(0,i.Ng)((n=>({products:n.productsModel.products,productsCartItems:n.billingModel.productsCartItems})),(n=>({getProducts:(e,t)=>n(function(n,e){return t=>{t(r("loading")),fetch("https://dummyjson.com/products"+"".concat(n-1>0?"?skip=".concat(30*(n-1)):"")+"".concat(e?"/search?q=".concat(e):"")).then((n=>n.json())).then((n=>{t(r("success",n))})).catch((n=>{t(r("error",n))}))}}(e,t)),addItemsToCartFunc:e=>n(function(n){return e=>{e({type:"ADD_ITEM_TO_CART",payload:n})}}(e)),goToNextStage:()=>n({type:"INCREMENT_USR_STAGE"}),clearPrevPayments:()=>n({type:"PAYMENT_API_RESP",payload:{status:"",data:{}}})})))(a.memo(G))}}]);
//# sourceMappingURL=Listings.21725a5c.chunk.js.map